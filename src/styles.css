.tareas-root {
  --tareas-size-xs: 8px;
  --tareas-size-sm: 13px;
  --tareas-size-md: 21px;
  --tareas-size-lg: 34px;
  --tareas-radius-xs: 2px;
  --tareas-radius-sm: 3px;
  --tareas-radius-md: 4px;
  --tareas-radius-lg: 5px;
  --tareas-color-neutral: var(--text-muted);
  --tareas-color-info: var(--color-cyan, var(--interactive-accent));
  --tareas-color-success: var(--color-green, var(--interactive-accent));
  --tareas-color-warning: var(--color-orange, var(--interactive-accent));
  --tareas-color-danger: var(--color-red, var(--interactive-accent));
  --tareas-color-blocked: var(--color-purple, var(--interactive-accent));
  padding:var(--tareas-size-md) var(--tareas-size-lg);
  font-size:var(--tareas-size-sm);
  color:var(--text-normal);
  overflow-y:auto;
}

.tareas-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:var(--tareas-size-md); }
.tareas-title-wrap { display:flex; align-items:center; gap:8px; }
.tareas-title-wrap h1 { margin:0; font-size:var(--tareas-size-lg); font-weight:700; }
.tareas-icon { font-size:var(--tareas-size-md); opacity:0.7; }
.tareas-header-actions { display:flex; align-items:center; gap:12px; }
.tareas-view-toggle { padding:var(--tareas-radius-md) var(--tareas-size-sm); border-radius:var(--tareas-radius-sm); background:var(--background-secondary); font-size:var(--tareas-size-sm); cursor:default; opacity:0.7; }
.tareas-btn-new { display:flex; align-items:center; gap:var(--tareas-radius-md); padding:var(--tareas-radius-lg) var(--tareas-size-sm); border-radius:var(--tareas-radius-sm); border:1px solid var(--interactive-accent); background:var(--interactive-accent) !important; color:var(--text-on-accent) !important; font-size:var(--tareas-size-sm); font-weight:600; cursor:pointer; }
.tareas-btn-new:hover { opacity:0.85; }

.tareas-tabs { display:flex; align-items:center; gap:var(--tareas-size-xs); margin-bottom:var(--tareas-size-sm); }
.tareas-tab-btn { border:1px solid var(--background-modifier-border); background:var(--background-primary); color:var(--text-muted); border-radius:var(--tareas-radius-sm); padding:var(--tareas-radius-lg) var(--tareas-size-sm); font-size:var(--tareas-size-xs); font-weight:600; cursor:pointer; }
.tareas-tab-btn:hover { border-color:var(--interactive-accent); color:var(--text-normal); }
.tareas-tab-btn.is-active { border-color:var(--interactive-accent); background:var(--interactive-accent); color:var(--text-on-accent); }

.tareas-pomodoro-panel {
  box-sizing:border-box;
  width:100%;
  max-width:100%;
  border:1px solid var(--background-modifier-border);
  border-radius:var(--tareas-radius-lg);
  background:var(--background-primary-alt, var(--background-secondary));
  padding:var(--tareas-size-md);
}
.tareas-pomodoro-panel-flash { animation:tareas-pomodoro-flash 0.9s ease; }
@keyframes tareas-pomodoro-flash {
  0% { box-shadow:0 0 0 0 color-mix(in srgb, var(--tareas-color-danger) 65%, transparent); }
  100% { box-shadow:0 0 0 18px color-mix(in srgb, var(--tareas-color-danger) 0%, transparent); }
}
.tareas-pomodoro-top { display:flex; justify-content:space-between; align-items:flex-end; gap:var(--tareas-size-sm); margin-bottom:var(--tareas-size-xs); }
.tareas-pomodoro-phase { margin:0; font-size:var(--tareas-size-md); font-weight:700; }
.tareas-pomodoro-cycles { font-size:var(--tareas-size-sm); color:var(--text-muted); }
.tareas-pomodoro-timer-wrap { display:flex; justify-content:center; margin:var(--tareas-size-sm) 0 var(--tareas-size-xs); }
.tareas-pomodoro-progress {
  --tareas-pomodoro-progress: 0%;
  width:min(220px, 60vw);
  aspect-ratio:1;
  border-radius:50%;
  background:conic-gradient(var(--interactive-accent) var(--tareas-pomodoro-progress), var(--background-modifier-border) 0);
  padding:var(--tareas-radius-lg);
  display:flex;
  align-items:center;
  justify-content:center;
}
.tareas-pomodoro-progress[data-mode="deviation"] {
  background:conic-gradient(var(--tareas-color-warning) var(--tareas-pomodoro-progress), var(--background-modifier-border) 0);
}
.tareas-pomodoro-progress-inner {
  width:100%;
  height:100%;
  border-radius:50%;
  background:var(--background-primary);
  border:1px solid var(--background-modifier-border);
  display:flex;
  align-items:center;
  justify-content:center;
}
.tareas-pomodoro-time { font-size:var(--tareas-size-lg); font-weight:800; line-height:1; letter-spacing:0.04em; font-variant-numeric:tabular-nums; text-align:center; }
.tareas-pomodoro-time.is-deviation { color:var(--tareas-color-warning); }
.tareas-pomodoro-controls { display:flex; flex-direction:column; align-items:center; gap:var(--tareas-size-xs); margin-bottom:var(--tareas-size-sm); }
.tareas-pomodoro-controls-icons { display:flex; align-items:center; justify-content:center; gap:10px; width:100%; }
.tareas-pomodoro-controls-extra { display:flex; align-items:center; justify-content:center; width:100%; }
.tareas-pomodoro-btn { border:1px solid var(--background-modifier-border); border-radius:var(--tareas-radius-sm); background:var(--background-primary); color:var(--text-normal); padding:var(--tareas-radius-lg) var(--tareas-size-sm); font-size:var(--tareas-size-sm); font-weight:600; cursor:pointer; }
.tareas-pomodoro-btn:hover { border-color:var(--interactive-accent); }
.tareas-pomodoro-btn-icon { width:var(--tareas-size-lg); height:var(--tareas-size-lg); padding:0; display:flex; align-items:center; justify-content:center; font-size:16px; line-height:1; }
.tareas-pomodoro-btn-icon.is-deviation-active { border-color:var(--tareas-color-warning); color:var(--tareas-color-warning); background:color-mix(in srgb, var(--tareas-color-warning) 18%, transparent); }
.tareas-pomodoro-state-bar {
  margin:0 0 var(--tareas-size-sm);
  width:100%;
  border-radius:var(--tareas-radius-sm);
  padding:var(--tareas-radius-lg) 10px;
  text-align:center;
  font-size:var(--tareas-size-sm);
  font-weight:700;
  letter-spacing:0.02em;
  color:var(--text-on-accent);
}
.tareas-pomodoro-state-bar[data-state="running"] { background:color-mix(in srgb, var(--tareas-color-success) 80%, var(--background-primary)); }
.tareas-pomodoro-state-bar[data-state="paused"] { background:color-mix(in srgb, var(--tareas-color-warning) 80%, var(--background-primary)); color:var(--text-normal); }
.tareas-pomodoro-state-bar[data-state="idle"] { background:color-mix(in srgb, var(--tareas-color-neutral) 72%, var(--background-primary)); }
.tareas-pomodoro-state-bar[data-state="deviation"] { background:color-mix(in srgb, var(--tareas-color-warning) 88%, var(--background-primary)); color:var(--text-normal); }
.tareas-pomodoro-config { border-top:1px solid var(--background-modifier-border); padding-top:12px; }
.tareas-pomodoro-config h3 { margin:0 0 10px; font-size:13px; font-weight:700; }
.tareas-pomodoro-config-card { border:1px solid var(--background-modifier-border); border-radius:var(--tareas-radius-md); background:var(--background-primary); padding:var(--tareas-size-sm); cursor:pointer; }
.tareas-pomodoro-config-card:hover { border-color:var(--interactive-accent); background:var(--background-secondary); }
.tareas-pomodoro-config-card:focus-visible { outline:2px solid var(--interactive-accent); outline-offset:2px; }
.tareas-pomodoro-config-card-title { margin:0; font-size:15px; line-height:1.25; font-weight:700; }
.tareas-pomodoro-config-card-divider { margin:9px 0; border-top:1px solid var(--background-modifier-border); }
.tareas-pomodoro-config-card-label { margin:0 0 4px; font-size:11px; font-weight:700; letter-spacing:0.03em; text-transform:uppercase; color:var(--text-muted); }
.tareas-pomodoro-config-card-text { margin:0 0 4px; font-size:13px; line-height:1.35; color:var(--text-normal); overflow-wrap:anywhere; }
.tareas-pomodoro-config-card-text:last-of-type { margin-bottom:0; }
.tareas-pomodoro-config-card-hint { margin:10px 0 0; font-size:11px; color:var(--text-faint); }
.tareas-pomodoro-task-section { border-top:1px solid var(--background-modifier-border); padding-top:12px; margin-top:12px; }
.tareas-pomodoro-task-section h3 { margin:0 0 10px; font-size:13px; font-weight:700; }
.tareas-pomodoro-task-card { border:1px solid var(--background-modifier-border); border-radius:var(--tareas-radius-md); background:var(--background-primary); padding:var(--tareas-size-sm); }
.tareas-pomodoro-task-card-title { margin:0; font-size:14px; font-weight:700; line-height:1.3; color:var(--text-normal); }
.tareas-pomodoro-task-card-meta { margin:6px 0 0; font-size:12px; color:var(--text-muted); }
.tareas-pomodoro-task-card-empty { margin:0; font-size:13px; color:var(--text-muted); }
.tareas-pomodoro-task-card-hint { margin:8px 0 0; font-size:11px; color:var(--text-faint); }
.tareas-pomodoro-task-change-btn { margin-top:10px; width:100%; }
.tareas-pomodoro-log-section { border-top:1px solid var(--background-modifier-border); padding-top:12px; margin-top:12px; }
.tareas-pomodoro-log-section h3 { margin:0 0 10px; font-size:13px; font-weight:700; }
.tareas-pomodoro-log-empty { margin:0; font-size:12px; color:var(--text-muted); }
.tareas-pomodoro-log-table-wrap { overflow-x:auto; }
.tareas-pomodoro-log-table { width:100%; border-collapse:collapse; font-size:12px; }
.tareas-pomodoro-log-table th,
.tareas-pomodoro-log-table td { border-bottom:1px solid var(--background-modifier-border); padding:6px 8px; text-align:left; vertical-align:top; }
.tareas-pomodoro-log-table th { color:var(--text-muted); font-weight:700; font-size:11px; text-transform:uppercase; letter-spacing:0.02em; }
.tareas-pomodoro-heatmap { margin-top:12px; }
.tareas-pomodoro-heatmap h4 { margin:0 0 8px; font-size:12px; font-weight:700; color:var(--text-muted); text-transform:uppercase; letter-spacing:0.02em; }
.tareas-pomodoro-heatmap-grid { display:grid; grid-template-columns:repeat(6, minmax(0, 1fr)); gap:6px; }
.tareas-pomodoro-heatmap-cell { border-radius:var(--tareas-radius-sm); padding:6px 4px; text-align:center; border:1px solid var(--background-modifier-border); background:color-mix(in srgb, var(--tareas-color-neutral) 12%, transparent); }
.tareas-pomodoro-heatmap-cell.is-level-0 { background:color-mix(in srgb, var(--tareas-color-neutral) 8%, transparent); }
.tareas-pomodoro-heatmap-cell.is-level-1 { background:color-mix(in srgb, var(--tareas-color-success) 34%, transparent); }
.tareas-pomodoro-heatmap-cell.is-level-2 { background:color-mix(in srgb, var(--color-yellow, var(--tareas-color-warning)) 42%, transparent); }
.tareas-pomodoro-heatmap-cell.is-level-3 { background:color-mix(in srgb, var(--tareas-color-warning) 50%, transparent); }
.tareas-pomodoro-heatmap-cell.is-level-4 { background:color-mix(in srgb, var(--tareas-color-danger) 62%, transparent); }
.tareas-pomodoro-heatmap-hour { display:block; font-size:10px; color:var(--text-muted); line-height:1.1; }
.tareas-pomodoro-heatmap-count { display:block; font-size:12px; font-weight:700; line-height:1.2; margin-top:2px; color:var(--text-normal); }

.tareas-board { display:grid; grid-auto-flow:column; grid-auto-columns:minmax(280px, 320px); gap:var(--tareas-size-sm); overflow-x:auto; align-items:start; padding:var(--tareas-radius-xs) var(--tareas-radius-xs) var(--tareas-size-sm); }
.tareas-group { border:1px solid var(--background-modifier-border); border-radius:var(--tareas-radius-md); padding:var(--tareas-size-xs) var(--tareas-size-xs) var(--tareas-size-sm); background:var(--background-primary-alt, var(--background-secondary)); min-height:120px; display:flex; flex-direction:column; }
.tareas-group-header { display:flex; align-items:center; gap:6px; padding:6px 4px; cursor:pointer; user-select:none; border-radius:var(--tareas-radius-sm); position:relative; }
.tareas-group-header:hover { background:var(--background-secondary); }
.tareas-toggle { font-size:11px; opacity:0.5; width:16px; flex-shrink:0; }
.tareas-count { font-size:13px; opacity:0.45; }

.tareas-group-drag-handle { cursor:grab; opacity:0.15; font-size:12px; user-select:none; flex-shrink:0; }
.tareas-group-header:hover .tareas-group-drag-handle { opacity:0.45; }
.tareas-group-drag-handle:hover { opacity:0.9 !important; }
.tareas-group-drag-handle:active { cursor:grabbing; }
.tareas-group-dragging { opacity:0.35; }
.tareas-group-drag-over > .tareas-group-header { border-top:2px solid var(--interactive-accent) !important; border-radius:0; }

.tareas-group-edit-btn { opacity:0; cursor:pointer; font-size:13px; padding:1px 7px; border-radius:var(--tareas-radius-sm); margin-left:auto; flex-shrink:0; background:transparent; border:none; color:var(--text-muted); }
.tareas-group-header:hover .tareas-group-edit-btn { opacity:0.55; }
.tareas-group-edit-btn:hover { opacity:1 !important; background:var(--background-modifier-hover); }

.tareas-badge { display:inline-block; padding:2px 10px; border-radius:var(--tareas-radius-sm); font-size:13px; font-weight:600; color:var(--text-on-accent); }

.tareas-table-wrap { overflow-x:auto; margin-top:4px; }
.tareas-table { width:100%; border-collapse:collapse; font-size:13px; }
.tareas-table thead th { text-align:center; padding:6px 10px; font-weight:500; font-size:12px; color:var(--text-muted); border-bottom:1px solid var(--background-modifier-border); white-space:nowrap; }
.tareas-th-num { text-align:center !important; }
.tareas-table tbody td { padding:7px 10px; border-bottom:1px solid var(--background-modifier-border-hover,color-mix(in srgb, var(--background-modifier-border) 65%, transparent)); vertical-align:middle; text-align:center; }
.tareas-row { transition:background 0.1s; }
.tareas-row:hover { background:var(--background-secondary); }

.tareas-cell-drag { width:20px; text-align:center; }
.tareas-drag-handle { cursor:grab; opacity:0.15; font-size:13px; user-select:none; }
.tareas-row:hover .tareas-drag-handle { opacity:0.5; }
.tareas-drag-handle:hover { opacity:0.9 !important; }
.tareas-drag-handle:active { cursor:grabbing; }
.tareas-row-dragging { opacity:0.4; background:var(--interactive-accent) !important; }
.tareas-row-drag-over td { border-top:2px solid var(--interactive-accent) !important; }
.tareas-cell-toggle { width:28px; text-align:center; }
.tareas-subtask-toggle { cursor:pointer; font-size:11px; opacity:0.5; }
.tareas-subtask-toggle:hover { opacity:1; }
.tareas-toggle-empty { opacity:0.2; }
.tareas-toggle-empty:hover { opacity:0.7; }
.tareas-cell-name { font-weight:500; min-width:360px; max-width:700px; }
.tareas-cell-name-content { display:flex; align-items:center; justify-content:space-between; gap:10px; }
.tareas-task-title-wrap { display:flex; align-items:center; justify-content:center; min-width:0; flex:1; }
.tareas-task-link { cursor:pointer; color:var(--text-normal) !important; text-decoration:none !important; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.tareas-task-link:hover { color:var(--interactive-accent) !important; }
.tareas-subtask-indent { opacity:0.3; margin-right:2px; }
.tareas-cell-actions { text-align:center; min-width:260px; }
.tareas-status-actions { display:flex; align-items:center; justify-content:center; margin-left:0; gap:0; flex-wrap:nowrap; }
.tareas-status-action-btn { font-size:11px; font-weight:600; border-radius:0; border:1px solid transparent; background:var(--background-primary); color:var(--text-muted); padding:2px 7px; cursor:pointer; white-space:nowrap; }
.tareas-status-action-btn:hover { filter:brightness(1.08); }
.tareas-status-action-btn.is-dismiss { background:color-mix(in srgb, var(--tareas-color-neutral) 18%, transparent); color:var(--text-muted); border-color:color-mix(in srgb, var(--tareas-color-neutral) 36%, transparent); }
.tareas-status-action-btn.is-start-stop { background:color-mix(in srgb, var(--tareas-color-info) 22%, transparent); color:var(--tareas-color-info); border-color:color-mix(in srgb, var(--tareas-color-info) 36%, transparent); }
.tareas-status-action-btn.is-finish { background:color-mix(in srgb, var(--tareas-color-success) 22%, transparent); color:var(--tareas-color-success); border-color:color-mix(in srgb, var(--tareas-color-success) 36%, transparent); }
.tareas-status-action-btn.is-block { background:color-mix(in srgb, var(--tareas-color-blocked) 24%, transparent); color:var(--tareas-color-blocked); border-color:color-mix(in srgb, var(--tareas-color-blocked) 38%, transparent); }
.tareas-status-action-btn.is-urgent { background:color-mix(in srgb, var(--tareas-color-danger) 24%, transparent); color:var(--tareas-color-danger); border-color:color-mix(in srgb, var(--tareas-color-danger) 40%, transparent); }
.tareas-status-action-btn:first-child { border-top-left-radius:var(--tareas-radius-sm); border-bottom-left-radius:var(--tareas-radius-sm); }
.tareas-status-action-btn:last-child { border-top-right-radius:var(--tareas-radius-sm); border-bottom-right-radius:var(--tareas-radius-sm); }
.tareas-status-action-btn.is-active { border-color:var(--interactive-accent); background:var(--interactive-accent); color:var(--text-on-accent); }
.tareas-cell-num { text-align:center; min-width:50px; font-variant-numeric:tabular-nums; }
.tareas-editable { cursor:pointer; padding:2px 6px; border-radius:var(--tareas-radius-xs); }
.tareas-editable:hover { background:var(--background-modifier-hover); }
.tareas-inline-input { width:56px; padding:2px 4px; text-align:center; border:1px solid var(--interactive-accent); border-radius:var(--tareas-radius-xs); background:var(--background-primary); color:var(--text-normal); font-size:13px; outline:none; }

.tareas-estado { display:inline-flex; align-items:center; gap:4px; padding:3px 10px; border-radius:var(--tareas-radius-sm); font-size:12px; font-weight:500; cursor:pointer; white-space:nowrap; }
.tareas-estado:hover { filter:brightness(1.15); }
.tareas-estado::before { content:""; display:inline-block; width:8px; height:8px; border-radius:50%; flex-shrink:0; }
.tareas-estado-pendiente { background:color-mix(in srgb, var(--tareas-color-warning) 18%, transparent); color:var(--tareas-color-warning); }
.tareas-estado-pendiente::before { background:var(--tareas-color-warning); }
.tareas-estado-cancelada { background:color-mix(in srgb, var(--tareas-color-neutral) 18%, transparent); color:var(--text-muted); }
.tareas-estado-cancelada::before { background:var(--text-muted); }
.tareas-estado-en-progreso { background:color-mix(in srgb, var(--tareas-color-info) 18%, transparent); color:var(--tareas-color-info); }
.tareas-estado-en-progreso::before { background:var(--tareas-color-info); animation:tareas-pulse 1.4s ease-in-out infinite; }
@keyframes tareas-pulse {
  0%, 100% { opacity:1; transform:scale(1); }
  50% { opacity:0.25; transform:scale(0.6); }
}
.tareas-estado-finalizada { background:color-mix(in srgb, var(--tareas-color-success) 18%, transparent); color:var(--tareas-color-success); }
.tareas-estado-finalizada::before { background:var(--tareas-color-success); }
.tareas-estado-bloqueada { background:color-mix(in srgb, var(--tareas-color-blocked) 20%, transparent); color:var(--tareas-color-blocked); }
.tareas-estado-bloqueada::before { background:var(--tareas-color-blocked); }

.tareas-equipo-badge { display:inline-block; padding:2px 10px; border-radius:var(--tareas-radius-sm); font-size:12px; font-weight:500; color:var(--text-on-accent); cursor:pointer; }
.tareas-equipo-badge:hover { filter:brightness(1.2); }

.tareas-prioridad { display:inline-block; padding:2px 10px; border-radius:var(--tareas-radius-sm); font-size:12px; font-weight:600; cursor:pointer; }
.tareas-prioridad:hover { filter:brightness(1.15); }
.tareas-prioridad-baja { background:color-mix(in srgb, var(--tareas-color-info) 20%, transparent); color:var(--tareas-color-info); }
.tareas-prioridad-media { background:color-mix(in srgb, var(--color-yellow, var(--tareas-color-warning)) 20%, transparent); color:var(--color-yellow, var(--tareas-color-warning)); }
.tareas-prioridad-alta { background:color-mix(in srgb, var(--tareas-color-warning) 20%, transparent); color:var(--tareas-color-warning); }
.tareas-prioridad-urgente { background:color-mix(in srgb, var(--tareas-color-danger) 20%, transparent); color:var(--tareas-color-danger); }
.tareas-prioridad-urgente.tareas-urgente-activa { animation:tareas-urgente-glow 1.8s ease-in-out infinite; }
@keyframes tareas-urgente-glow {
  0%, 100% { box-shadow:0 0 0 color-mix(in srgb, var(--tareas-color-danger) 0%, transparent); background:color-mix(in srgb, var(--tareas-color-danger) 20%, transparent); }
  50% { box-shadow:0 0 10px color-mix(in srgb, var(--tareas-color-danger) 55%, transparent); background:color-mix(in srgb, var(--tareas-color-danger) 38%, transparent); }
}

.tareas-cell-pct { text-align:center; white-space:nowrap; min-width:70px; }
.tareas-pct-text { margin-right:6px; font-variant-numeric:tabular-nums; }
.tareas-pct-dot { display:inline-block; width:14px; height:14px; border-radius:50%; border:2px solid var(--background-modifier-border); vertical-align:middle; box-sizing:border-box; }
.tareas-pct-dot.full { background:var(--tareas-color-success); border-color:var(--tareas-color-success); }
.tareas-pct-dot.partial { border-color:var(--tareas-color-warning); }

.tareas-card-list { display:flex; flex-direction:column; gap:8px; margin-top:8px; min-height:24px; }
.tareas-task-card { --tareas-card-actions-band-height:0px; position:relative; overflow:visible; border:1px solid var(--background-modifier-border-hover, color-mix(in srgb, var(--background-modifier-border) 75%, transparent)); border-radius:var(--tareas-radius-md); background:var(--background-primary); padding:10px 40px 10px 40px; transition:border-color 0.12s ease, transform 0.12s ease; }
.tareas-task-card:hover { border-color:var(--interactive-accent); transform:translateY(-1px); }
.tareas-task-card-dragging { opacity:0.4; }
.tareas-task-card-drag-over { border-top:2px solid var(--interactive-accent); }
.tareas-task-card-add { display:flex; justify-content:center; align-items:center; min-height:56px; border-style:dashed; }
.tareas-card-side-band { position:absolute; top:calc(var(--tareas-card-actions-band-height) + 1px); bottom:0; width:28px; display:flex; align-items:center; justify-content:center; cursor:pointer; user-select:none; }
.tareas-card-side-band:hover { filter:brightness(1.08); }
.tareas-card-side-band-text { color:var(--text-on-accent); font-size:10px; font-weight:700; letter-spacing:0.06em; text-transform:uppercase; writing-mode:vertical-rl; transform:rotate(180deg); }
.tareas-card-status-band { left:0; border-bottom-left-radius:var(--tareas-radius-md); }
.tareas-card-status-band-pendiente { background:color-mix(in srgb, var(--tareas-color-warning) 45%, transparent); }
.tareas-card-status-band-cancelada { background:color-mix(in srgb, var(--tareas-color-neutral) 45%, transparent); }
.tareas-card-status-band-en-progreso { background:color-mix(in srgb, var(--tareas-color-info) 45%, transparent); }
.tareas-card-status-band-finalizada { background:color-mix(in srgb, var(--tareas-color-success) 45%, transparent); }
.tareas-card-status-band-bloqueada { background:color-mix(in srgb, var(--tareas-color-blocked) 45%, transparent); }
.tareas-card-priority-band { right:0; border-bottom-right-radius:var(--tareas-radius-md); }
.tareas-card-priority-band-baja { background:color-mix(in srgb, var(--tareas-color-info) 45%, transparent); }
.tareas-card-priority-band-media { background:color-mix(in srgb, var(--color-yellow, var(--tareas-color-warning)) 45%, transparent); }
.tareas-card-priority-band-alta { background:color-mix(in srgb, var(--tareas-color-warning) 45%, transparent); }
.tareas-card-priority-band-urgente { background:color-mix(in srgb, var(--tareas-color-danger) 45%, transparent); }
.tareas-card-title-row { display:flex; align-items:center; gap:6px; min-width:0; margin-bottom:8px; }
.tareas-task-card-title { display:block; font-weight:600; color:var(--text-normal) !important; text-decoration:none !important; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; margin-bottom:8px; }
.tareas-task-card-title:hover { color:var(--interactive-accent) !important; }
.tareas-card-title-row .tareas-task-card-title { margin-bottom:0; flex:1; min-width:0; }
.tareas-card-comment-btn { display:inline-flex; align-items:center; justify-content:center; width:18px; height:18px; border:none; border-radius:var(--tareas-radius-sm); background:transparent; color:var(--text-muted); cursor:pointer; flex-shrink:0; padding:0; margin-right:1px; }
.tareas-card-comment-btn svg { width:13px; height:13px; }
.tareas-card-comment-btn:hover { color:var(--text-normal); background:var(--background-modifier-hover); }
.tareas-card-preview { margin:0 0 8px; min-height:calc(1.35em * 3); font-size:12px; color:var(--text-muted); line-height:1.35; display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:4; overflow:hidden; overflow-wrap:anywhere; word-break:break-word; }
.tareas-card-badges { display:flex; flex-wrap:wrap; gap:6px; margin-bottom:8px; }
.tareas-card-metrics { display:flex; gap:8px; flex-wrap:wrap; margin-bottom:6px; }
.tareas-card-metric { font-size:11px; color:var(--text-muted); padding:2px 6px; border-radius:5px; background:var(--background-secondary); }
.tareas-card-actions .tareas-status-actions { justify-content:flex-start; flex-wrap:wrap; gap:4px; }
.tareas-card-actions .tareas-status-action-btn { border-radius:var(--tareas-radius-sm); }
.tareas-card-actions-band { margin:-10px -40px 8px; min-height:var(--tareas-card-actions-band-height); padding:3px 28px; border-bottom:1px solid var(--background-modifier-border-hover, color-mix(in srgb, var(--background-modifier-border) 75%, transparent)); background:var(--background-primary); border-top-left-radius:var(--tareas-radius-md); border-top-right-radius:var(--tareas-radius-md); overflow:hidden; }
.tareas-card-actions-band .tareas-status-actions { justify-content:center; flex-wrap:nowrap; gap:0; min-width:0; }
.tareas-card-actions-band .tareas-status-action-btn { font-size:9px; padding:0 3px; line-height:1.15; background:transparent !important; border:none !important; border-radius:0 !important; }
.tareas-card-actions-band .tareas-status-action-btn:hover { filter:none; background:transparent !important; opacity:0.95; }
.tareas-card-actions-band .tareas-status-action-btn.is-dismiss { color:var(--text-muted); }
.tareas-card-actions-band .tareas-status-action-btn.is-start-stop { color:var(--tareas-color-info); }
.tareas-card-actions-band .tareas-status-action-btn.is-finish { color:var(--tareas-color-success); }
.tareas-card-actions-band .tareas-status-action-btn.is-block { color:var(--tareas-color-blocked); }
.tareas-card-actions-band .tareas-status-action-btn.is-urgent { color:var(--tareas-color-danger); }
.tareas-card-actions-band .tareas-status-action-btn::after { content:"|"; color:var(--text-faint); margin-left:4px; }
.tareas-card-actions-band .tareas-status-action-btn:last-child::after { content:""; margin:0; }
.tareas-card-actions-band .tareas-status-action-btn,
.tareas-card-actions-band .tareas-status-action-btn.is-active,
.tareas-card-actions-band .tareas-status-action-btn:focus,
.tareas-card-actions-band .tareas-status-action-btn:focus-visible {
  border:none !important;
  box-shadow:none !important;
  outline:none !important;
}
.tareas-card-actions-band .tareas-status-action-btn.is-active { background:transparent !important; text-decoration:underline; text-underline-offset:2px; }
.tareas-card-footer { margin-top:8px; display:flex; align-items:center; justify-content:space-between; gap:8px; }
.tareas-card-subtasks { font-size:12px; color:var(--text-muted); }
.tareas-card-subtasks-toggle { cursor:pointer; user-select:none; opacity:0.75; }
.tareas-card-subtasks-toggle:hover { opacity:1; color:var(--text-normal); }
.tareas-card-subtasks-toggle.is-expanded { color:var(--text-normal); }
.tareas-card-subtask-list { margin-top:8px; display:flex; flex-direction:column; gap:6px; padding:8px; border:1px solid var(--background-modifier-border); border-radius:var(--tareas-radius-sm); background:var(--background-secondary); }
.tareas-card-subtask-row { display:flex; align-items:center; gap:8px; min-width:0; }
.tareas-card-subtask-check { margin:0; cursor:pointer; flex-shrink:0; }
.tareas-card-subtask-title { flex:1; min-width:0; font-size:12px; color:var(--text-normal) !important; text-decoration:none !important; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.tareas-card-subtask-title:hover { color:var(--interactive-accent) !important; }
.tareas-card-subtask-title.is-done { text-decoration:line-through !important; opacity:0.7; }
.tareas-card-subtask-comment-btn { margin-left:auto; }
.tareas-card-progress-band { position:relative; height:16px; margin-top:8px; border-radius:var(--tareas-radius-sm); overflow:hidden; border:1px solid var(--background-modifier-border); background:var(--background-secondary); }
.tareas-card-progress-band-fill { position:absolute; top:0; left:0; bottom:0; width:0; background:color-mix(in srgb, var(--tareas-color-success) 55%, transparent); transition:width 0.18s ease; }
.tareas-card-progress-band.is-overflow .tareas-card-progress-band-fill { background:color-mix(in srgb, var(--tareas-color-danger) 55%, transparent); }
.tareas-card-progress-band-text { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size:10px; font-weight:700; color:var(--text-normal); font-variant-numeric:tabular-nums; letter-spacing:0.02em; z-index:1; pointer-events:none; }
.tareas-card-progress-band-text-value { pointer-events:auto; }
.tareas-card-progress-band-text-deviation { color:var(--tareas-color-warning); font-weight:700; }
.tareas-card-progress-band-text-editable { cursor:pointer; }
.tareas-card-progress-band-text-editable:hover { text-decoration:underline; text-underline-offset:2px; }
.tareas-card-progress-input { position:absolute; z-index:2; top:50%; left:50%; transform:translate(-50%, -50%); width:74px; height:14px; padding:0 4px; text-align:center; border:1px solid var(--interactive-accent); border-radius:var(--tareas-radius-sm); background:var(--background-primary); color:var(--text-normal); font-size:10px; line-height:1.1; font-variant-numeric:tabular-nums; outline:none; }

.tareas-add-row td { border-bottom:none !important; }
.tareas-add-link { color:var(--text-muted); cursor:pointer; font-size:13px; opacity:0.5; user-select:none; }
.tareas-add-link:hover { opacity:1; }
.tareas-new-group { margin-top:12px; padding:6px 4px; }

.tareas-modal h2 { margin-top:0; }
.tareas-edit-task-modal-shell { width:75vw; max-width:75vw; height:75vh; max-height:75vh; overflow:hidden; }
.tareas-edit-task-modal { width:100%; height:100%; display:flex; flex-direction:column; overflow-x:hidden; }
.tareas-edit-task-hint { margin:0 0 10px; font-size:12px; color:var(--text-muted); }
.tareas-edit-task-textarea { width:100%; flex:1; min-height:0; resize:none; overflow-y:auto; overflow-x:hidden; white-space:pre-wrap; overflow-wrap:anywhere; font-family:var(--font-monospace); font-size:13px; line-height:1.45; border:1px solid var(--background-modifier-border); border-radius:var(--tareas-radius-sm); padding:12px; background:var(--background-primary); color:var(--text-normal); box-sizing:border-box; }
.tareas-edit-task-textarea:focus { outline:none; border-color:var(--interactive-accent); box-shadow:0 0 0 1px var(--interactive-accent); }
.tareas-comment-modal-hint { margin:0 0 10px; font-size:12px; color:var(--text-muted); }
.tareas-comment-modal-textarea { width:100%; min-height:180px; resize:vertical; border:1px solid var(--background-modifier-border); border-radius:var(--tareas-radius-sm); padding:10px; background:var(--background-primary); color:var(--text-normal); box-sizing:border-box; }
.tareas-comment-modal-textarea:focus { outline:none; border-color:var(--interactive-accent); box-shadow:0 0 0 1px var(--interactive-accent); }
.tareas-modal-footer { display:flex; justify-content:flex-end; gap:8px; margin-top:16px; }
.tareas-modal-footer button { padding:6px 18px; border-radius:var(--tareas-radius-sm); cursor:pointer; }
.tareas-pomodoro-task-modal-shell { height:auto; max-height:none; }
.tareas-pomodoro-task-modal-shell .modal-content { overflow-x:hidden; overflow-y:visible; max-height:none; }
.tareas-pomodoro-task-modal { box-sizing:border-box; width:min(680px, 92vw); max-width:100%; min-width:0; display:flex; flex-direction:column; gap:10px; overflow-x:hidden; }
.tareas-pomodoro-task-empty { margin:0; color:var(--text-muted); }
.tareas-pomodoro-task-list { display:flex; flex-direction:column; gap:8px; width:100%; max-width:100%; min-width:0; overflow-x:hidden; overflow-y:visible; }
.tareas-pomodoro-task-item { box-sizing:border-box; width:100%; max-width:100%; min-width:0; border:1px solid var(--background-modifier-border); border-radius:var(--tareas-radius-md); background:var(--background-primary); padding:10px 12px; cursor:pointer; overflow:hidden; }
.tareas-pomodoro-task-item:hover { border-color:var(--interactive-accent); background:var(--background-secondary); }
.tareas-pomodoro-task-item.is-selected { border-color:var(--interactive-accent); box-shadow:inset 0 0 0 1px var(--interactive-accent); }
.tareas-pomodoro-task-item:focus-visible { outline:2px solid var(--interactive-accent); outline-offset:2px; }
.tareas-pomodoro-task-name { margin:0; font-size:13px; font-weight:700; line-height:1.3; overflow-wrap:anywhere; }
.tareas-pomodoro-task-meta { margin:4px 0 0; font-size:11px; color:var(--text-muted); overflow-wrap:anywhere; }
.tareas-pomodoro-preset-modal-shell { width:min(920px, 94vw); max-width:min(920px, 94vw); }
.tareas-pomodoro-preset-modal { width:100%; max-height:82vh; }
.tareas-pomodoro-preset-cards { display:grid; grid-template-columns:1fr; gap:14px; max-height:62vh; overflow-y:auto; padding-right:2px; }
.tareas-pomodoro-preset-card {
  display:flex !important;
  flex-direction:column !important;
  align-items:stretch !important;
  justify-content:flex-start !important;
  box-sizing:border-box;
  width:100% !important;
  min-height:245px;
  height:auto !important;
  border:1px solid var(--background-modifier-border);
  border-radius:var(--tareas-radius-lg);
  background:var(--background-primary);
  padding:16px;
  text-align:left;
  cursor:pointer;
  white-space:normal !important;
  line-height:1.4;
  overflow:hidden;
}
.tareas-pomodoro-preset-card:hover { border-color:var(--interactive-accent); background:var(--background-secondary); }
.tareas-pomodoro-preset-card.is-selected { border-color:var(--interactive-accent); box-shadow:0 0 0 1px var(--interactive-accent); background:var(--background-secondary); }
.tareas-pomodoro-preset-card:focus-visible { outline:2px solid var(--interactive-accent); outline-offset:2px; }
.tareas-pomodoro-preset-card h3,
.tareas-pomodoro-preset-card p {
  position:static !important;
  display:block !important;
  white-space:normal !important;
  overflow-wrap:anywhere;
}
.tareas-pomodoro-preset-title { margin:0; font-size:17px; line-height:1.3; font-weight:700; }
.tareas-pomodoro-preset-divider { margin:10px 0; border-top:1px solid var(--background-modifier-border); }
.tareas-pomodoro-preset-usage-title { margin:0 0 4px; font-size:12px; font-weight:700; letter-spacing:0.03em; text-transform:uppercase; color:var(--text-muted); }
.tareas-pomodoro-preset-usage { margin:0; font-size:13px; color:var(--text-normal); }
.tareas-pomodoro-preset-line { margin:0 0 5px; font-size:14px; color:var(--text-normal); line-height:1.35; }
.tareas-pomodoro-preset-line:last-child { margin-bottom:0; }

.tareas-color-picker { display:flex; flex-wrap:wrap; gap:6px; align-items:center; margin-top:4px; }
.tareas-color-swatch { display:inline-block; width:22px; height:22px; border-radius:50%; cursor:pointer; border:2px solid transparent; box-sizing:border-box; transition:transform 0.1s; flex-shrink:0; }
.tareas-color-swatch:hover { transform:scale(1.2); }
.tareas-color-swatch.tareas-swatch-selected { border-color:var(--text-normal) !important; outline:2px solid var(--background-primary); outline-offset:-3px; transform:scale(1.15); }
.tareas-color-input { width:32px; height:26px; border:1px solid var(--background-modifier-border); border-radius:var(--tareas-radius-sm); cursor:pointer; padding:1px; background:transparent; }

@media (max-width: 900px) {
  .tareas-root { padding:var(--tareas-size-sm); }
  .tareas-board { grid-auto-columns:minmax(260px, 85vw); }
  .tareas-pomodoro-preset-modal-shell { width:96vw; max-width:96vw; }
  .tareas-pomodoro-panel { padding:var(--tareas-size-sm); }
  .tareas-pomodoro-progress { width:min(190px, 62vw); }
  .tareas-pomodoro-time { font-size:var(--tareas-size-md); }
  .tareas-pomodoro-heatmap-grid { grid-template-columns:repeat(4, minmax(0, 1fr)); }
}
